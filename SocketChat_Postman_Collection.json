{
	"info": {
		"name": "SocketChat API Collection",
		"description": "Postman collection for SocketChat REST API endpoints including file uploads and ChatOTP",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "amani",
			"value": "http://localhost:3030",
			"type": "string"
		},
		{
			"key": "auth",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "SocketChat",
			"item": [
				{
					"name": "Create Socket Chat",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"UserName\": \"John Doe\",\n  \"User_id\": 55,\n  \"TextMessage\": \"Hello, this is a test message\",\n  \"fileImage\": null,\n  \"emozi\": \"üòä\",\n  \"Status\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/create",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"create"
							]
						},
						"description": "Create a new socket chat message.\n\n**Required Fields:**\n- User_id (number): ID of the user sending the message\n\n**Optional Fields:**\n- UserName (string, max 200 chars): Name of the user\n- TextMessage (string, max 5000 chars): Text content of the message\n- fileImage (string, max 500 chars): URL of the file/image\n- emozi (string, max 10 chars): Emoji character(s)\n- Status (boolean): Status of the message (default: true)\n\n**Payload Examples:**\n- Full payload with all fields\n- Minimal: { \"User_id\": 55, \"TextMessage\": \"Hello!\" }\n- With emoji: { \"User_id\": 55, \"TextMessage\": \"Great!\", \"emozi\": \"üëç\" }\n- With image: { \"User_id\": 55, \"TextMessage\": \"Check this\", \"fileImage\": \"https://example.com/image.jpg\" }\n- Text only: { \"User_id\": 55, \"TextMessage\": \"Hello\" }",
						"response": []
					}
				},
				{
					"name": "Get All Socket Chats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/getAll?page=1&limit=10&Status=true&search=&User_id=",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"getAll"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "Status",
									"value": "true",
									"description": "Filter by status (true/false)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for TextMessage or UserName"
								},
								{
									"key": "User_id",
									"value": "",
									"description": "Filter by user ID"
								}
							]
						},
						"description": "Get all socket chats with pagination and optional filters. No authentication required."
					}
				},
				{
					"name": "Get Socket Chat By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/getById/:id",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"getById",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Chat ID (MongoDB ObjectId or numeric Chat_id)"
								}
							]
						},
						"description": "Get a specific socket chat by ID. Can use MongoDB ObjectId or numeric Chat_id."
					}
				},
				{
					"name": "Update Socket Chat",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"UserName\": \"Jane Doe\",\n  \"TextMessage\": \"Updated message text\",\n  \"emozi\": \"üëç\",\n  \"Status\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/update/:id",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"update",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Chat ID (MongoDB ObjectId or numeric Chat_id)"
								}
							]
						},
						"description": "Update an existing socket chat message.\n\n**All Fields Optional:**\n- UserName (string, max 200 chars): Name of the user\n- User_id (number): ID of the user (if updating)\n- TextMessage (string, max 5000 chars): Text content of the message\n- fileImage (string, max 500 chars): URL of the file/image\n- emozi (string, max 10 chars): Emoji character(s)\n- Status (boolean): Status of the message\n\n**Payload Examples:**\n- Update message only: { \"TextMessage\": \"Updated text\" }\n- Update status: { \"Status\": false }\n- Update multiple fields: { \"TextMessage\": \"New text\", \"emozi\": \"üëç\", \"Status\": true }\n- Update with image: { \"TextMessage\": \"Updated\", \"fileImage\": \"https://example.com/new-image.jpg\" }",
						"response": []
					}
				},
				{
					"name": "Delete Socket Chat",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/delete/:id",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"delete",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Chat ID (MongoDB ObjectId or numeric Chat_id)"
								}
							]
						},
						"description": "Soft delete a socket chat (sets Status to false). Requires authentication."
					}
				},
				{
					"name": "Get Socket Chats By Auth",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/getByAuth?page=1&limit=10&Status=true&search=",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"getByAuth"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "Status",
									"value": "true",
									"description": "Filter by status (true/false)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for TextMessage or UserName"
								}
							]
						},
						"description": "Get all socket chats for the authenticated user. Requires authentication."
					}
				},
				{
					"name": "Get Socket Chats By User ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{amani}}/api/v2/SocketChat/getByUserId/:User_id?page=1&limit=10&Status=true&search=",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"SocketChat",
								"getByUserId",
								":User_id"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "Status",
									"value": "true",
									"description": "Filter by status (true/false)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for TextMessage or UserName"
								}
							],
							"variable": [
								{
									"key": "User_id",
									"value": "55",
									"description": "User ID (number)"
								}
							]
						},
						"description": "Get all socket chats for a specific user ID. No authentication required."
					}
				}
			]
		},
		{
			"name": "Chat File Upload",
			"item": [
				{
					"name": "Upload Single File",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": [],
									"description": "File to upload (image, document, video, audio). Max size: 10MB"
								},
								{
									"key": "User_id",
									"value": "55",
									"type": "text",
									"description": "User ID (optional, defaults to authenticated user)"
								},
								{
									"key": "UserName",
									"value": "John Doe",
									"type": "text",
									"description": "User name (optional)"
								},
								{
									"key": "TextMessage",
									"value": "Check out this file!",
									"type": "text",
									"description": "Text message (optional)"
								},
								{
									"key": "emozi",
									"value": "üìé",
									"type": "text",
									"description": "Emoji (optional, max 10 characters)"
								}
							]
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/upload-file",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"upload-file"
							]
						},
						"description": "Upload a single file for chat. Allowed file types: images (jpeg, jpg, png, gif, webp), documents (pdf, doc, docx, txt), videos (mp4), audio (mpeg), zip files. Maximum file size: 10MB. Requires authentication."
					}
				},
				{
					"name": "Upload Multiple Files",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "files",
									"type": "file",
									"src": [],
									"description": "Files to upload (max 5 files). Allowed types: images, documents, videos, audio, zip. Max size per file: 10MB"
								},
								{
									"key": "User_id",
									"value": "55",
									"type": "text",
									"description": "User ID (optional, defaults to authenticated user)"
								},
								{
									"key": "UserName",
									"value": "John Doe",
									"type": "text",
									"description": "User name (optional)"
								},
								{
									"key": "TextMessage",
									"value": "Check out these files!",
									"type": "text",
									"description": "Text message (optional)"
								},
								{
									"key": "emozi",
									"value": "üìé",
									"type": "text",
									"description": "Emoji (optional, max 10 characters)"
								}
							]
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/upload-multiple-files",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"upload-multiple-files"
							]
						},
						"description": "Upload multiple files (up to 5 files) for chat. Allowed file types: images (jpeg, jpg, png, gif, webp), documents (pdf, doc, docx, txt), videos (mp4), audio (mpeg), zip files. Maximum file size per file: 10MB. Requires authentication."
					}
				}
			]
		},
		{
			"name": "Chat OTP",
			"item": [
				{
					"name": "Send OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"userId\": 55\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/send-otp",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"send-otp"
							]
						},
						"description": "Send OTP to phone number for chat verification.\n\n**Required Fields:**\n- phoneNumber (string): Phone number in international format (e.g., +1234567890)\n\n**Optional Fields:**\n- userId (number): User ID if linking to existing user\n\n**Payload Examples:**\n- With userId: { \"phoneNumber\": \"+1234567890\", \"userId\": 55 }\n- Without userId: { \"phoneNumber\": \"+1234567890\" }"
					}
				},
				{
					"name": "Send OTP to Auth User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/send-otp-auth",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"send-otp-auth"
							]
						},
						"description": "Send OTP to authenticated user's phone number.\n\n**No body required** - uses the authenticated user's phone number from the JWT token.\n\n**Requires:** Authentication header with Bearer token\n\n**Response includes:**\n- message: Success message\n- phoneNumber: User's phone number\n- expiresAt: OTP expiration timestamp\n- messageSid: SMS service message ID"
					}
				},
				{
					"name": "Resend OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"userId\": 55\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/resend-otp",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"resend-otp"
							]
						},
						"description": "Resend OTP to phone number.\n\n**Required Fields:**\n- phoneNumber (string): Phone number in international format (e.g., +1234567890)\n\n**Optional Fields:**\n- userId (number): User ID if linking to existing user\n\n**Payload Examples:**\n- With userId: { \"phoneNumber\": \"+1234567890\", \"userId\": 55 }\n- Without userId: { \"phoneNumber\": \"+1234567890\" }"
					}
				},
				{
					"name": "Send Chat Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phoneNumber\": \"+1234567890\",\n  \"message\": \"Hello! This is a test message from chat API.\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{amani}}/api/v2/chat/send-message",
							"host": [
								"{{amani}}"
							],
							"path": [
								"api",
								"v2",
								"chat",
								"send-message"
							]
						},
						"description": "Send custom message via SMS for chat notifications.\n\n**Required Fields:**\n- phoneNumber (string): Phone number in international format (e.g., +1234567890)\n- message (string): Message text to send via SMS\n\n**Payload Example:**\n{ \"phoneNumber\": \"+1234567890\", \"message\": \"Hello! This is a test message from chat API.\" }"
					}
				}
			]
		}
	]
}

